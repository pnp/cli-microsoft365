import Global from '@site/src/docs/globalOptions.md';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# cli doctor

Retrieves diagnostic information about the current environment

## Usage

```sh
m365 cli doctor [options]
```

## Options

<Global />

## Remarks

This command gets all the necessary diagnostic information needed to triage and debug CLI issues without exposing any security-sensitive details

## Examples

Retrieve diagnostic information

```sh
m365 cli doctor
```

## Response

<Tabs>
  <TabItem value="json" label="JSON">

  ```json
  {
    "os": {
      "platform": "win32",
      "version": "Windows 10 Pro",
      "release": "10.0.19045"
    },
    "cliVersion": "6.1.0",
    "nodeVersion": "v16.13.0",
    "cliAadAppId": "31359c7f-bd7e-475c-86db-fdb8c937548e",
    "cliAadAppTenant": "common",
    "authMode": "DeviceCode",
    "cliEnvironment": "",
    "cliConfig": {
      "output": "json",
      "showHelpOnFailure": false
    },
    "roles": [],
    "scopes": [
      "AllSites.FullControl"
    ]
  }
  ```

  </TabItem>
  <TabItem value="text" label="Text">

  ```text
  authMode       : DeviceCode
  cliAadAppId    : 31359c7f-bd7e-475c-86db-fdb8c937548e
  cliAadAppTenant: common
  cliConfig      : {"output":"json","showHelpOnFailure":false}
  cliEnvironment :
  cliVersion     : 6.1.0
  nodeVersion    : v16.13.0
  os             : {"platform":"win32","version":"Windows 10 Pro","release":"10.0.19045"}
  roles          : []
  scopes         : ["AllSites.FullControl"]
  ```

  </TabItem>
  <TabItem value="csv" label="CSV">

  ```csv
  os,cliVersion,nodeVersion,cliAadAppId,cliAadAppTenant,authMode,cliEnvironment,cliConfig,roles,scopes
  "{""platform"":""win32"",""version"":""Windows 10 Pro"",""release"":""10.0.19045""}",6.1.0,v16.13.0,31359c7f-bd7e-475c-86db-fdb8c937548e,common,DeviceCode,,"{""output"":""json"",""showHelpOnFailure"":false}",[],"[""AllSites.FullControl""]"
  ```

  </TabItem>
</Tabs>
